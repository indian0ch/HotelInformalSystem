{"ast":null,"code":"import _slicedToArray from\"/Users/andreyfesiuk/Desktop/\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430 \\u041E\\u041E\\u041F/HotelInformalSystem/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import styles from\"./Authentication.module.css\";import{Worker,AuthenticationService}from\"./AuthenticationSingleton.ts\";import Login from\"./Login\";import Registration from\"./Registration\";import Profile from\"./Profile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Authentication=function Authentication(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoginWindowOpen=_useState2[0],setIsLoginWindowOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isRegistryWindowOpen=_useState4[0],setIsRegistryWindowOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isProfileWindowOpen=_useState6[0],setIsProfileWindowOpen=_useState6[1];var authService=AuthenticationService.getInstance();function changeWindowStatus(){setIsLoginWindowOpen(function(prev){return!prev;});setIsRegistryWindowOpen(function(prev){return!prev;});}function onSignUpHandler(){changeWindowStatus();}function onSignInHandler(){changeWindowStatus();}function onContinueHandler(){setIsLoginWindowOpen(false);setIsProfileWindowOpen(true);}function onLogOutHandler(){authService.logout(authService.getLastLogin());setIsLoginWindowOpen(true);setIsProfileWindowOpen(false);}return/*#__PURE__*/_jsxs(\"div\",{className:styles.authenticationContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Worker authentication component\"}),/*#__PURE__*/_jsxs(\"div\",{children:[isLoginWindowOpen&&/*#__PURE__*/_jsx(Login,{onSignUp:onSignUpHandler,authServices:authService,onContinue:onContinueHandler}),isRegistryWindowOpen&&/*#__PURE__*/_jsx(Registration,{onSignIn:onSignInHandler,authServices:authService}),isProfileWindowOpen&&/*#__PURE__*/_jsx(Profile,{authServices:authService,onLogOut:onLogOutHandler})]})]});};export default Authentication;","map":{"version":3,"names":["React","useState","styles","Worker","AuthenticationService","Login","Registration","Profile","jsx","_jsx","jsxs","_jsxs","Authentication","props","_useState","_useState2","_slicedToArray","isLoginWindowOpen","setIsLoginWindowOpen","_useState3","_useState4","isRegistryWindowOpen","setIsRegistryWindowOpen","_useState5","_useState6","isProfileWindowOpen","setIsProfileWindowOpen","authService","getInstance","changeWindowStatus","prev","onSignUpHandler","onSignInHandler","onContinueHandler","onLogOutHandler","logout","getLastLogin","className","authenticationContainer","children","onSignUp","authServices","onContinue","onSignIn","onLogOut"],"sources":["/Users/andreyfesiuk/Desktop/Курсова ООП/HotelInformalSystem/src/components/Authentication/Authentication.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"./Authentication.module.css\";\nimport { Worker, AuthenticationService } from \"./AuthenticationSingleton.ts\";\nimport Login from \"./Login\";\nimport Registration from \"./Registration\";\nimport Profile from \"./Profile\";\n\nconst Authentication = (props) => {\n  const [isLoginWindowOpen, setIsLoginWindowOpen] = useState(true);\n  const [isRegistryWindowOpen, setIsRegistryWindowOpen] = useState(false);\n  const [isProfileWindowOpen, setIsProfileWindowOpen] = useState(false);\n  const authService = AuthenticationService.getInstance();\n\n  function changeWindowStatus() {\n    setIsLoginWindowOpen((prev) => !prev);\n    setIsRegistryWindowOpen((prev) => !prev);\n  }\n  function onSignUpHandler() {\n    changeWindowStatus();\n  }\n  function onSignInHandler() {\n    changeWindowStatus();\n  }\n  function onContinueHandler() {\n    setIsLoginWindowOpen(false);\n    setIsProfileWindowOpen(true);\n  }\n  function onLogOutHandler() {\n    authService.logout(authService.getLastLogin());\n    setIsLoginWindowOpen(true);\n    setIsProfileWindowOpen(false);\n  }\n\n  return (\n    <div className={styles.authenticationContainer}>\n      <h2>Worker authentication component</h2>\n      <div>\n        {isLoginWindowOpen && (\n          <Login\n            onSignUp={onSignUpHandler}\n            authServices={authService}\n            onContinue={onContinueHandler}\n          ></Login>\n        )}\n        {isRegistryWindowOpen && (\n          <Registration\n            onSignIn={onSignInHandler}\n            authServices={authService}\n          ></Registration>\n        )}\n        {isProfileWindowOpen && (\n          <Profile\n            authServices={authService}\n            onLogOut={onLogOutHandler}\n          ></Profile>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default Authentication;\n"],"mappings":"mMAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,OAASC,MAAM,CAAEC,qBAAqB,KAAQ,8BAA8B,CAC5E,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,KAAK,CAAK,CAChC,IAAAC,SAAA,CAAkDb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzDG,iBAAiB,CAAAF,UAAA,IAAEG,oBAAoB,CAAAH,UAAA,IAC9C,IAAAI,UAAA,CAAwDlB,QAAQ,CAAC,KAAK,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAhEE,oBAAoB,CAAAD,UAAA,IAAEE,uBAAuB,CAAAF,UAAA,IACpD,IAAAG,UAAA,CAAsDtB,QAAQ,CAAC,KAAK,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA9DE,mBAAmB,CAAAD,UAAA,IAAEE,sBAAsB,CAAAF,UAAA,IAClD,GAAM,CAAAG,WAAW,CAAGvB,qBAAqB,CAACwB,WAAW,CAAC,CAAC,CAEvD,QAAS,CAAAC,kBAAkBA,CAAA,CAAG,CAC5BX,oBAAoB,CAAC,SAACY,IAAI,QAAK,CAACA,IAAI,GAAC,CACrCR,uBAAuB,CAAC,SAACQ,IAAI,QAAK,CAACA,IAAI,GAAC,CAC1C,CACA,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzBF,kBAAkB,CAAC,CAAC,CACtB,CACA,QAAS,CAAAG,eAAeA,CAAA,CAAG,CACzBH,kBAAkB,CAAC,CAAC,CACtB,CACA,QAAS,CAAAI,iBAAiBA,CAAA,CAAG,CAC3Bf,oBAAoB,CAAC,KAAK,CAAC,CAC3BQ,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CACA,QAAS,CAAAQ,eAAeA,CAAA,CAAG,CACzBP,WAAW,CAACQ,MAAM,CAACR,WAAW,CAACS,YAAY,CAAC,CAAC,CAAC,CAC9ClB,oBAAoB,CAAC,IAAI,CAAC,CAC1BQ,sBAAsB,CAAC,KAAK,CAAC,CAC/B,CAEA,mBACEf,KAAA,QAAK0B,SAAS,CAAEnC,MAAM,CAACoC,uBAAwB,CAAAC,QAAA,eAC7C9B,IAAA,OAAA8B,QAAA,CAAI,iCAA+B,CAAI,CAAC,cACxC5B,KAAA,QAAA4B,QAAA,EACGtB,iBAAiB,eAChBR,IAAA,CAACJ,KAAK,EACJmC,QAAQ,CAAET,eAAgB,CAC1BU,YAAY,CAAEd,WAAY,CAC1Be,UAAU,CAAET,iBAAkB,CACxB,CACT,CACAZ,oBAAoB,eACnBZ,IAAA,CAACH,YAAY,EACXqC,QAAQ,CAAEX,eAAgB,CAC1BS,YAAY,CAAEd,WAAY,CACb,CAChB,CACAF,mBAAmB,eAClBhB,IAAA,CAACF,OAAO,EACNkC,YAAY,CAAEd,WAAY,CAC1BiB,QAAQ,CAAEV,eAAgB,CAClB,CACX,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CACD,cAAe,CAAAtB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}