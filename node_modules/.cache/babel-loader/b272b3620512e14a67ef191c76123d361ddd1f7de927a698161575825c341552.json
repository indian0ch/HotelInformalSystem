{"ast":null,"code":"import _slicedToArray from\"/Users/andreyfesiuk/Desktop/\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430 \\u041E\\u041E\\u041F/HotelInformalSystem/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import styles from\"./Reservation.module.css\";import{ReservationRoom,ReservationRoomFacade}from\"./ReservationFacade.ts\";import Button from\"../UI/Button/Button.js\";import Service from\"../Service/Service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reservation=function Reservation(props){var _useState=useState(100),_useState2=_slicedToArray(_useState,2),priceRoom=_useState2[0],setPriceRoom=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),priceService=_useState4[0],setPriceService=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),arraivedDate=_useState6[0],setArraivedDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),outDate=_useState8[0],setOutDate=_useState8[1];var nameUser=useRef();var emailUser=useRef();var idUser=useRef();var phoneNumberUser=useRef();function onChangePriceHandler(event){setPriceRoom(event.target.value);}function onChangeArraivedDate(event){if(event.target.value>outDate&&outDate!==\"\"){alert(\"Out date earlier than arrived)\");}else{setArraivedDate(event.target.value);}}function onChangeOutDate(event){if(arraivedDate>event.target.value){alert(\"Out date earlier than arrived)\");}else{setOutDate(event.target.value);}}function onSendServiceHandler(baseComponent){setPriceService(baseComponent.getAmount());console.log(baseComponent.getAmount());}function checkValidation(){if(nameUser.current.value!==\"\"&&emailUser.current.value!==\"\"&&idUser.current.value!==\"\"&&phoneNumberUser.current.value!==\"\"&&arraivedDate!==\"\"&&outDate!==\"\"){return true;}return false;}function cleanInputs(){nameUser.current.value=\"\";emailUser.current.value=\"\";idUser.current.value=\"\";phoneNumberUser.current.value=\"\";setArraivedDate(\"\");setOutDate(\"\");}function onSubmitFormHandler(event){event.preventDefault();if(checkValidation()===true){var totalSumCount=(new Date(outDate)-new Date(arraivedDate))/(1000*60*60*24)*priceRoom+priceService;var resroom=new ReservationRoom(nameUser.current.value,phoneNumberUser.current.value,idUser.current.value,emailUser.current.value,arraivedDate,outDate,priceRoom,totalSumCount);var res=new ReservationRoomFacade(resroom);res.doReservation();cleanInputs();}else{alert(\"Some fields are underfined!\");}}return/*#__PURE__*/_jsxs(\"div\",{className:styles.reservationContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Rooms' reservation section\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitFormHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nameUser\",children:\"Your Full Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nameUser\",ref:nameUser}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailUser\",children:\"Your email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"emailUser\",ref:emailUser}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phoneUser\",children:\"Your phone number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phoneUser\",ref:phoneNumberUser}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"idUser\",children:\"Passport ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"idUser\",ref:idUser}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateArrived\",children:\"Arrived date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dateArrived\",max:\"\",value:arraivedDate,onChange:onChangeArraivedDate}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateOut\",children:\"Out date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dateOut\",max:\"\",value:outDate,onChange:onChangeOutDate}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"roomUser\",children:\"Room's type:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"roomUser\",className:styles.sectionBox,onChange:onChangePriceHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"Standart room\"}),/*#__PURE__*/_jsx(\"option\",{value:\"200\",children:\"Middle room\"}),/*#__PURE__*/_jsx(\"option\",{value:\"300\",children:\"Luxury room\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",priceRoom,\"$ per night\"]})]}),/*#__PURE__*/_jsx(Service,{sendServices:onSendServiceHandler}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Reservation\"})]})]});};export default Reservation;","map":{"version":3,"names":["React","useState","useRef","styles","ReservationRoom","ReservationRoomFacade","Button","Service","jsx","_jsx","jsxs","_jsxs","Reservation","props","_useState","_useState2","_slicedToArray","priceRoom","setPriceRoom","_useState3","_useState4","priceService","setPriceService","_useState5","_useState6","arraivedDate","setArraivedDate","_useState7","_useState8","outDate","setOutDate","nameUser","emailUser","idUser","phoneNumberUser","onChangePriceHandler","event","target","value","onChangeArraivedDate","alert","onChangeOutDate","onSendServiceHandler","baseComponent","getAmount","console","log","checkValidation","current","cleanInputs","onSubmitFormHandler","preventDefault","totalSumCount","Date","resroom","res","doReservation","className","reservationContainer","children","onSubmit","htmlFor","type","name","ref","max","onChange","sectionBox","sendServices"],"sources":["/Users/andreyfesiuk/Desktop/Курсова ООП/HotelInformalSystem/src/components/Reservation/Reservation.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport styles from \"./Reservation.module.css\";\nimport { ReservationRoom, ReservationRoomFacade } from \"./ReservationFacade.ts\";\nimport Button from \"../UI/Button/Button.js\";\nimport Service from \"../Service/Service\";\n\nconst Reservation = (props) => {\n  const [priceRoom, setPriceRoom] = useState(100);\n  const [priceService, setPriceService] = useState(0);\n  const [arraivedDate, setArraivedDate] = useState(\"\");\n  const [outDate, setOutDate] = useState(\"\");\n  const nameUser = useRef();\n  const emailUser = useRef();\n  const idUser = useRef();\n  const phoneNumberUser = useRef();\n\n  function onChangePriceHandler(event) {\n    setPriceRoom(event.target.value);\n  }\n\n  function onChangeArraivedDate(event) {\n    if (event.target.value > outDate && outDate !== \"\") {\n      alert(\"Out date earlier than arrived)\");\n    } else {\n      setArraivedDate(event.target.value);\n    }\n  }\n\n  function onChangeOutDate(event) {\n    if (arraivedDate > event.target.value) {\n      alert(\"Out date earlier than arrived)\");\n    } else {\n      setOutDate(event.target.value);\n    }\n  }\n\n  function onSendServiceHandler(baseComponent) {\n    setPriceService(baseComponent.getAmount());\n    console.log(baseComponent.getAmount());\n  }\n\n  function checkValidation() {\n    if (\n      nameUser.current.value !== \"\" &&\n      emailUser.current.value !== \"\" &&\n      idUser.current.value !== \"\" &&\n      phoneNumberUser.current.value !== \"\" &&\n      arraivedDate !== \"\" &&\n      outDate !== \"\"\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  function cleanInputs() {\n    nameUser.current.value = \"\";\n    emailUser.current.value = \"\";\n    idUser.current.value = \"\";\n    phoneNumberUser.current.value = \"\";\n    setArraivedDate(\"\");\n    setOutDate(\"\");\n  }\n\n  function onSubmitFormHandler(event) {\n    event.preventDefault();\n\n    if (checkValidation() === true) {\n      let totalSumCount =\n        ((new Date(outDate) - new Date(arraivedDate)) / (1000 * 60 * 60 * 24)) *\n          priceRoom +\n        priceService;\n\n      let resroom = new ReservationRoom(\n        nameUser.current.value,\n        phoneNumberUser.current.value,\n        idUser.current.value,\n        emailUser.current.value,\n        arraivedDate,\n        outDate,\n        priceRoom,\n        totalSumCount\n      );\n\n      let res = new ReservationRoomFacade(resroom);\n      res.doReservation();\n      cleanInputs();\n    } else {\n      alert(\"Some fields are underfined!\");\n    }\n  }\n\n  return (\n    <div className={styles.reservationContainer}>\n      <h2>Rooms' reservation section</h2>\n      <form onSubmit={onSubmitFormHandler}>\n        <label htmlFor=\"nameUser\">Your Full Name:</label>\n        <input type=\"text\" name=\"nameUser\" ref={nameUser}></input>\n        <label htmlFor=\"emailUser\">Your email:</label>\n        <input type=\"text\" name=\"emailUser\" ref={emailUser}></input>\n        <label htmlFor=\"phoneUser\">Your phone number:</label>\n        <input type=\"text\" name=\"phoneUser\" ref={phoneNumberUser}></input>\n        <label htmlFor=\"idUser\">Passport ID:</label>\n        <input type=\"number\" name=\"idUser\" ref={idUser}></input>\n        <label htmlFor=\"dateArrived\">Arrived date:</label>\n        <input\n          type=\"date\"\n          name=\"dateArrived\"\n          max=\"\"\n          value={arraivedDate}\n          onChange={onChangeArraivedDate}\n        ></input>\n        <label htmlFor=\"dateOut\">Out date:</label>\n        <input\n          type=\"date\"\n          name=\"dateOut\"\n          max=\"\"\n          value={outDate}\n          onChange={onChangeOutDate}\n        ></input>\n        <label htmlFor=\"roomUser\">Room's type:</label>\n        <div>\n          <select\n            name=\"roomUser\"\n            className={styles.sectionBox}\n            onChange={onChangePriceHandler}\n          >\n            <option value=\"100\">Standart room</option>\n            <option value=\"200\">Middle room</option>\n            <option value=\"300\">Luxury room</option>\n          </select>\n          <p>Price: {priceRoom}$ per night</p>\n        </div>\n        <Service sendServices={onSendServiceHandler}></Service>\n        <Button type=\"submit\">Reservation</Button>\n      </form>\n    </div>\n  );\n};\nexport default Reservation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}